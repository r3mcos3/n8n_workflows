# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Repository Overview

This is a collection of n8n workflow automation definitions stored as JSON files. Each workflow is self-contained in its own folder with a JSON definition and documentation.

## Repository Structure

```
workflow_folder/
‚îú‚îÄ‚îÄ workflow_name.json    # n8n workflow definition
‚îî‚îÄ‚îÄ README.md             # Documentation and setup instructions
```

All workflows are independent. There is no build system, dependency management, or testing framework - each workflow is imported directly into n8n.

## Workflow Architecture

### JSON Structure
Each `.json` file is an n8n workflow definition containing:
- **Nodes**: Individual automation steps (triggers, actions, conditions)
- **Connections**: Define data flow between nodes
- **Credentials**: References to OAuth2 or API credentials configured in n8n
- **Settings**: Cron schedules, parameters, and node-specific configuration

### Common Integration Patterns

**Google Sheets Integration:**
- Used for data persistence and logging
- Requires Google Sheets OAuth2 API credentials in n8n
- Sheet URLs are hardcoded in node configuration (search for `"documentId"` or spreadsheet references)

**Gmail Integration:**
- Used for sending automated emails
- Requires Gmail OAuth2 credentials in n8n
- Email recipients are configured in Send Email nodes (search for `"sendTo"`)

**RSS Feeds:**
- YouTube channel monitoring uses RSS feed URLs: `https://www.youtube.com/feeds/videos.xml?channel_id=[CHANNEL_ID]`
- Channel IDs are stored in Set node arrays

**Schedule Triggers:**
- Use cron expressions (search for `"expression"` in Schedule Trigger nodes)
- Common patterns: `0 */6 * * *` (every 6 hours), `0 18 * * 0` (Sundays at 18:00)

## Working with Workflows

### Modifying Workflow Configuration

When editing workflow JSON files:
1. Common configuration points are documented in each workflow's README.md
2. Search for specific node names or properties (e.g., `"sendTo"`, `"channelids"`, `"documentId"`)
3. Maintain JSON structure - workflows must remain valid JSON
4. Line numbers referenced in READMEs may shift after edits

### Adding New Workflows

1. Create a new folder with a descriptive name
2. Export workflow JSON from n8n and save it in the folder
3. Create a README.md documenting:
   - Features and overview
   - Workflow diagram (text-based flow)
   - Requirements (credentials needed)
   - Configuration instructions
   - Installation steps
4. Update the main README.md workflows list

### Documentation Standards

Each workflow README should include:
- Feature list with emoji markers
- ASCII workflow diagram showing node flow
- Credential requirements
- Configuration instructions with JSON line references
- Troubleshooting section
- Installation checklist
- Screenshots of the workflow in n8n

## Git Workflow

### Commit Messages
- Always prefix with an emoji (see CHANGELOG.md for examples)
- Never include "Generated by Claude" attribution
- Examples: `üìù Update workflow documentation`, `‚ú® Add new feature`, `üêõ Fix issue`

### CHANGELOG.md
When making significant changes, update CHANGELOG.md following the existing format:
- Use ISO date format (YYYY-MM-DD) for sections
- Categorize under: Added, Changed, Removed, Fixed
- Prefix each entry with an emoji

## Key Files

- `CHANGELOG.md`: Project change log following Keep a Changelog format
- `README.md`: Repository overview and workflow list
- `.github/renovate.json`: Renovate bot configuration (minimal, automerge enabled)

## Common Tasks

### Finding Configuration Points in Workflows
Use grep to find specific node types or configuration:
```bash
grep -n "sendTo" workflow_folder/workflow.json          # Find email recipients
grep -n "documentId" workflow_folder/workflow.json      # Find Google Sheet references
grep -n "expression" workflow_folder/workflow.json      # Find cron schedules
grep -n "channelids" workflow_folder/workflow.json      # Find YouTube channels
```

### Validating JSON
```bash
python -m json.tool workflow_folder/workflow.json       # Validate and format JSON
```

### Testing Workflows
Workflows cannot be tested in this repository - they must be imported into an n8n instance and executed there.

## Important
Always update the CHANGELOG.md with the changes made in this repository.
